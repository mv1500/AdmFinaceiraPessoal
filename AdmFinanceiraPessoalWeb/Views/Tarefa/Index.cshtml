
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<div ng-app="IAdmFin" ng-controller="TarefaController" ng-cloak>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading" style="text-align:center">
                <h3 style="text-align:center"><b>Tarefas</b></h3>
            </div>
            <button class="btn btn-info btn-sm" ng-click="modalCadastrarTarefa()" accesskey="C">Cadastrar Tarefa</button>
        </div>


            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-striped table-hover table-sm">
                        <thead>
                            <tr>
                                <th class="col-lg-3">Tarefa</th>
                                <th class="col-lg-1">Data final</th>
                                <th class="col-lg-1">Prioridade</th>
                                <th class="col-lg-2">Duração estimada</th>
                                <th class="col-lg-1">Status</th>
                                <th class="col-lg-2">Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in viewdata.tarefas | orderBy:'DtFin'">
                                <td>{{item.NomeTarefa}}</td>
                                <td class="col-lg-1">{{item.DtFim | dateFilter| date:"dd/MM/yyyy"}}</td>
                                <td class="col-lg-1">{{item.Prioridade}}</td>
                                <td class="col-lg-2">{{item.DuracaoEstimada | dateFilter| date:"HH:mm"}}</td>
                                <td class="col-lg-1">{{item.Status}}</td>
                                <td class="col-lg-2">
                                    <button type="button" class="btn btn-success btn-xs" ng-show="item.Status != 'Paga'" ng-click="concluirTarefa(item)">
                                        <span class="glyphicon glyphicon-ok">Terminar</span>
                                    </button>
                                    <button type="button" class="btn btn-primary btn-xs" ng-click="editarTarefa(item)">
                                        <span class="glyphicon glyphicon-pencil"></span>
                                    </button>
                                    <button type="button" class="btn btn-danger btn-xs" ng-click="">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        
    </div>
    @Html.Partial("_CadTarefa")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/tarefa")
}